<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Wasabi</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.9.1/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" type="image/png" href="../assets/favicon.png">
    <script src="http://yui.yahooapis.com/combo?3.9.1/build/yui/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            
                <h1><img src="../assets/css/logo.png" title=""></h1>
            
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: </em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
    <h2 class="off-left">APIs</h2>
    <div id="api-tabview" class="tabview">
        <ul class="tabs">
            <li><a href="#api-classes">Classes</a></li>
            <li><a href="#api-modules">Modules</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" id="api-filter" placeholder="Type to filter APIs">
        </div>

        <div id="api-tabview-panel">
            <ul id="api-classes" class="apis classes">
            
                <li><a href="../classes/Bitstream.html">Bitstream</a></li>
            
                <li><a href="../classes/Connection.html">Connection</a></li>
            
                <li><a href="../classes/InDescription.html">InDescription</a></li>
            
                <li><a href="../classes/OutDescription.html">OutDescription</a></li>
            
                <li><a href="../classes/Registry.html">Registry</a></li>
            
                <li><a href="../classes/Rpc.html">Rpc</a></li>
            
                <li><a href="../classes/Wasabi.html">Wasabi</a></li>
            
            </ul>

            <ul id="api-modules" class="apis modules">
            
                <li><a href="../modules/Types.html">Types</a></li>
            
            </ul>
        </div>
    </div>
</div>

            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
        Show:
        <label for="api-show-inherited">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
        <label for="api-show-deprecated">
            <input type="checkbox" id="api-show-deprecated">
            Deprecated
        </label>

    </div>


            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1>Wasabi Class</h1>
<div class="box meta">
    

    

    
        <div class="foundat">
            Defined in: <a href="../files/src_wasabi.js.html#l28"><code>src&#x2F;wasabi.js:28</code></a>
        </div>
    

    
        
            Module: <a href="../modules/Types.html">Types</a>
        
    

    
</div>



<div class="box intro">
    <p>Facade class for interacting with Wasabi.</p>
<p>Note that Wasabi implements the Node.js <code>events.EventEmitter</code> interface
for event handling, allowing use of <code>on</code>, <code>once</code>, <code>removeListener</code> and
friends. See the related <a href="http://nodejs.org/api/events.html#events_class_events_eventemitter">Node.js events.EventEmitter docs</a> for
event handling methods.</p>

</div>



<div id="classdocs" class="tabview">
    <ul class="api-class-tabs">
        <li class="api-class-tab index"><a href="#index">Index</a></li>

        
            <li class="api-class-tab methods"><a href="#methods">Methods</a></li>
        
        
        
        
            <li class="api-class-tab events"><a href="#events">Events</a></li>
        
    </ul>

    <div>
        <div id="index" class="api-class-tabpanel index">
            <h2 class="off-left">Item Index</h2>

            
                <div class="index-section methods">
                    <h3>Methods</h3>

                    <ul class="index-list methods">
                        
                            <li class="index-item method private">
                                <a href="#method__getAllObjects">_getAllObjects</a>

                                
                                
                            </li>
                        
                            <li class="index-item method private">
                                <a href="#method__invokeRpc">_invokeRpc</a>

                                
                                
                            </li>
                        
                            <li class="index-item method private">
                                <a href="#method__packGhost">_packGhost</a>

                                
                                
                            </li>
                        
                            <li class="index-item method private">
                                <a href="#method__packGhosts">_packGhosts</a>

                                
                                
                            </li>
                        
                            <li class="index-item method private">
                                <a href="#method__packRemovedGhosts">_packRemovedGhosts</a>

                                
                                
                            </li>
                        
                            <li class="index-item method private">
                                <a href="#method__packRpc">_packRpc</a>

                                
                                
                            </li>
                        
                            <li class="index-item method private">
                                <a href="#method__packRpcs">_packRpcs</a>

                                
                                
                            </li>
                        
                            <li class="index-item method private">
                                <a href="#method__packUpdate">_packUpdate</a>

                                
                                
                            </li>
                        
                            <li class="index-item method private">
                                <a href="#method__packUpdates">_packUpdates</a>

                                
                                
                            </li>
                        
                            <li class="index-item method private">
                                <a href="#method__processConnection">_processConnection</a>

                                
                                
                            </li>
                        
                            <li class="index-item method private">
                                <a href="#method__unpackGhost">_unpackGhost</a>

                                
                                
                            </li>
                        
                            <li class="index-item method private">
                                <a href="#method__unpackGhosts">_unpackGhosts</a>

                                
                                
                            </li>
                        
                            <li class="index-item method private">
                                <a href="#method__unpackRemovedGhosts">_unpackRemovedGhosts</a>

                                
                                
                            </li>
                        
                            <li class="index-item method private">
                                <a href="#method__unpackRpc">_unpackRpc</a>

                                
                                
                            </li>
                        
                            <li class="index-item method private">
                                <a href="#method__unpackUpdate">_unpackUpdate</a>

                                
                                
                            </li>
                        
                            <li class="index-item method private">
                                <a href="#method__unpackUpdates">_unpackUpdates</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_addClass">addClass</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_addClient">addClient</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_addObject">addObject</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_addServer">addServer</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_makeWasabi">makeWasabi</a>

                                
                                    <span class="flag static">static</span>
                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_mkRpc">mkRpc</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_processConnections">processConnections</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_removeClient">removeClient</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_removeObject">removeObject</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_removeServer">removeServer</a>

                                
                                
                            </li>
                        
                    </ul>
                </div>
            

            

            

            
                <div class="index-section events">
                    <h3>Events</h3>

                    <ul class="index-list events">
                        
                            <li class="index-item event">
                                <a href="#event_clientGhostCreate">clientGhostCreate</a>

                                
                                
                            </li>
                        
                            <li class="index-item event">
                                <a href="#event_clientGhostDestroy">clientGhostDestroy</a>

                                
                                
                            </li>
                        
                            <li class="index-item event">
                                <a href="#event_sendError">sendError</a>

                                
                                
                            </li>
                        
                    </ul>
                </div>
            
        </div>

        
            <div id="methods" class="api-class-tabpanel">
                <h2 class="off-left">Methods</h2>

                
                    <div id="method__getAllObjects" class="method item private">
    <h3 class="name"><code>_getAllObjects</code></h3>

    
        <span class="paren">()</span>
    

    

    

    
        <span class="flag private">private</span>
    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/src_wasabi.js.html#l545"><code>src&#x2F;wasabi.js:545</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Returns a clone of the registry&#39;s object table. used as a fallback
when no _scopeCallback is specified for a connection</p>

    </div>

    

    

    
</div>

                
                    <div id="method__invokeRpc" class="method item private">
    <h3 class="name"><code>_invokeRpc</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>rpc</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code>obj</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code>args</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    

    

    
        <span class="flag private">private</span>
    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/src_wasabi.js.html#l400"><code>src&#x2F;wasabi.js:400</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Pack an RPC invocation to the appropriate connections</p>

    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">rpc</code>
                        <span class="type"><a href="../classes/Rpc.html" class="crosslink">Rpc</a></span>
                    

                    

                    <div class="param-description">
                        <p>the rpc to invoke</p>

                    </div>

                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name">obj</code>
                        <span class="type">NetObject</span>
                    

                    

                    <div class="param-description">
                        <p>the obj to use as the context the invocation,
    or false for static invocations</p>

                    </div>

                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name">args</code>
                        <span class="type">Array</span>
                    

                    

                    <div class="param-description">
                        <p>the arguments to the rpc, followed by an optional
    list of connections to emit the invocation to. If no connections
    are specified, the invocation is emitted to all connections</p>

                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    

    
</div>

                
                    <div id="method__packGhost" class="method item private">
    <h3 class="name"><code>_packGhost</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>obj</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code>bs</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    

    

    
        <span class="flag private">private</span>
    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/src_wasabi.js.html#l217"><code>src&#x2F;wasabi.js:217</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Packs data needed to instantiate a replicated version of obj</p>

    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">obj</code>
                        <span class="type">Object</span>
                    

                    

                    <div class="param-description">
                        <p>The object to pack</p>

                    </div>

                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name">bs</code>
                        <span class="type">BitStream</span>
                    

                    

                    <div class="param-description">
                        <p>The bitstream to pack into</p>

                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    

    
</div>

                
                    <div id="method__packGhosts" class="method item private">
    <h3 class="name"><code>_packGhosts</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>objects</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code>bs</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    

    

    
        <span class="flag private">private</span>
    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/src_wasabi.js.html#l270"><code>src&#x2F;wasabi.js:270</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Packs ghosts for needed objects into <code>bs</code></p>

    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">objects</code>
                        <span class="type">Array</span>
                    

                    

                    <div class="param-description">
                        <p>An Array or map of objects to pack ghosts for</p>

                    </div>

                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name">bs</code>
                        <span class="type"><a href="../classes/Bitstream.html" class="crosslink">Bitstream</a></span>
                    

                    

                    <div class="param-description">
                        <p>The target Bitstream</p>

                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    

    
</div>

                
                    <div id="method__packRemovedGhosts" class="method item private">
    <h3 class="name"><code>_packRemovedGhosts</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>objects</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code>bs</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    

    

    
        <span class="flag private">private</span>
    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/src_wasabi.js.html#l305"><code>src&#x2F;wasabi.js:305</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Packs removed ghosts for <code>objects</code> into <code>bs</code></p>

    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">objects</code>
                        <span class="type">Object</span>
                    

                    

                    <div class="param-description">
                        <p>An Array or map of objects to remove</p>

                    </div>

                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name">bs</code>
                        <span class="type"><a href="../classes/Bitstream.html" class="crosslink">Bitstream</a></span>
                    

                    

                    <div class="param-description">
                        <p>The target Bitstream</p>

                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    

    
</div>

                
                    <div id="method__packRpc" class="method item private">
    <h3 class="name"><code>_packRpc</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>rpc</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code>args</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code>obj</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code>bs</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    

    

    
        <span class="flag private">private</span>
    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/src_wasabi.js.html#l484"><code>src&#x2F;wasabi.js:484</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Pack a call to a registered RP and the supplied arguments into bs</p>

    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">rpc</code>
                        <span class="type"><a href="../classes/Rpc.html" class="crosslink">Rpc</a></span>
                    

                    

                    <div class="param-description">
                        <p>The RPC to pack</p>

                    </div>

                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name">args</code>
                        <span class="type">Array</span>
                    

                    

                    <div class="param-description">
                        <p>The arguments to be serialized into this
    invocation</p>

                    </div>

                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name">obj</code>
                        <span class="type">NetObject</span>
                    

                    

                    <div class="param-description">
                        <p>The NetObject to apply the RPC to (or falsy
    for &quot;static&quot; RPC invocation</p>

                    </div>

                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name">bs</code>
                        <span class="type"><a href="../classes/Bitstream.html" class="crosslink">Bitstream</a></span>
                    

                    

                    <div class="param-description">
                        <p>The target Bitstream</p>

                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    

    
</div>

                
                    <div id="method__packRpcs" class="method item private">
    <h3 class="name"><code>_packRpcs</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>conn</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    

    

    
        <span class="flag private">private</span>
    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/src_wasabi.js.html#l468"><code>src&#x2F;wasabi.js:468</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Pack all RPC invocations in the specified <code>Connection</code>&#39;s queue.</p>

    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">conn</code>
                        <span class="type"><a href="../classes/Connection.html" class="crosslink">Connection</a></span>
                    

                    

                    <div class="param-description">
                        <p>The connection to pack RPC invocations for</p>

                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    

    
</div>

                
                    <div id="method__packUpdate" class="method item private">
    <h3 class="name"><code>_packUpdate</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>obj</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code>bs</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    

    

    
        <span class="flag private">private</span>
    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/src_wasabi.js.html#l189"><code>src&#x2F;wasabi.js:189</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Packs update data for <code>obj</code> into <code>bs</code></p>

    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">obj</code>
                        <span class="type">Object</span>
                    

                    

                    <div class="param-description">
                        <p>The object to pack</p>

                    </div>

                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name">bs</code>
                        <span class="type">BitStream</span>
                    

                    

                    <div class="param-description">
                        <p>The bitstream to pack into</p>

                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    

    
</div>

                
                    <div id="method__packUpdates" class="method item private">
    <h3 class="name"><code>_packUpdates</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>list</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code>bs</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    

    

    
        <span class="flag private">private</span>
    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/src_wasabi.js.html#l363"><code>src&#x2F;wasabi.js:363</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Pack the given list of object update data into bs</p>

    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">list</code>
                        <span class="type">Object</span>
                    

                    

                    <div class="param-description">
                        <p>An Array or map of objects to pack updates for</p>

                    </div>

                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name">bs</code>
                        <span class="type"><a href="../classes/Bitstream.html" class="crosslink">Bitstream</a></span>
                    

                    

                    <div class="param-description">
                        <p>The target Bitstream</p>

                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    

    
</div>

                
                    <div id="method__processConnection" class="method item private">
    <h3 class="name"><code>_processConnection</code></h3>

    
        <span class="paren">()</span>
    

    

    

    
        <span class="flag private">private</span>
    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/src_wasabi.js.html#l562"><code>src&#x2F;wasabi.js:562</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Receive, process, and transmit data as needed for this connection</p>

    </div>

    

    

    
</div>

                
                    <div id="method__unpackGhost" class="method item private">
    <h3 class="name"><code>_unpackGhost</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>bs</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    

    

    
        <span class="flag private">private</span>
    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/src_wasabi.js.html#l229"><code>src&#x2F;wasabi.js:229</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Unpacks a newly replicated object from Bitstream</p>

    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">bs</code>
                        <span class="type"><a href="../classes/Bitstream.html" class="crosslink">Bitstream</a></span>
                    

                    

                    <div class="param-description">
                        <p>The target bitstream</p>

                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    

    
</div>

                
                    <div id="method__unpackGhosts" class="method item private">
    <h3 class="name"><code>_unpackGhosts</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>bs</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    

    

    
        <span class="flag private">private</span>
    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/src_wasabi.js.html#l290"><code>src&#x2F;wasabi.js:290</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Unpack all needed ghosts from <code>bs</code></p>

    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">bs</code>
                        <span class="type"><a href="../classes/Bitstream.html" class="crosslink">Bitstream</a></span>
                    

                    

                    <div class="param-description">
                        <p>The source Bitstream</p>

                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    

    
</div>

                
                    <div id="method__unpackRemovedGhosts" class="method item private">
    <h3 class="name"><code>_unpackRemovedGhosts</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>bs</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    

    

    
        <span class="flag private">private</span>
    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/src_wasabi.js.html#l323"><code>src&#x2F;wasabi.js:323</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Unpack all removed ghosts from bs. An object with its ghost unpacked
in this way will be removed from the local Wasabi&#39;s registry</p>

    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">bs</code>
                        <span class="type"><a href="../classes/Bitstream.html" class="crosslink">Bitstream</a></span>
                    

                    

                    <div class="param-description">
                        <p>The source Bitstream</p>

                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    

    
</div>

                
                    <div id="method__unpackRpc" class="method item private">
    <h3 class="name"><code>_unpackRpc</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>bs</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code>conn</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    

    

    
        <span class="flag private">private</span>
    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/src_wasabi.js.html#l503"><code>src&#x2F;wasabi.js:503</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Unpack and execute a call to a registered RP using the supplied
arguments from bs</p>

    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">bs</code>
                        <span class="type"><a href="../classes/Bitstream.html" class="crosslink">Bitstream</a></span>
                    

                    

                    <div class="param-description">
                        <p>The source Bitstream</p>

                    </div>

                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name">conn</code>
                        <span class="type"><a href="../classes/Connection.html" class="crosslink">Connection</a></span>
                    

                    

                    <div class="param-description">
                        <p>The connection this RPC was invoked from</p>

                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    

    
</div>

                
                    <div id="method__unpackUpdate" class="method item private">
    <h3 class="name"><code>_unpackUpdate</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>bs</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    

    

    
        <span class="flag private">private</span>
    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/src_wasabi.js.html#l201"><code>src&#x2F;wasabi.js:201</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Unpacks update data from <code>bs</code></p>

    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">bs</code>
                        <span class="type">BitStream</span>
                    

                    

                    <div class="param-description">
                        <p>The bitstream to unpack from</p>

                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    

    
</div>

                
                    <div id="method__unpackUpdates" class="method item private">
    <h3 class="name"><code>_unpackUpdates</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>bs</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    

    

    
        <span class="flag private">private</span>
    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/src_wasabi.js.html#l380"><code>src&#x2F;wasabi.js:380</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Unpack the given list of objects (with update data) from bs</p>

    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">bs</code>
                        <span class="type"><a href="../classes/Bitstream.html" class="crosslink">Bitstream</a></span>
                    

                    

                    <div class="param-description">
                        <p>The source Bitstream</p>

                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    

    
</div>

                
                    <div id="method_addClass" class="method item">
    <h3 class="name"><code>addClass</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>klass</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    

    

    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/src_wasabi.js.html#l50"><code>src&#x2F;wasabi.js:50</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Register a class with Wasabi, allowing it to transmit instances of
this class through a Connection</p>

    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">klass</code>
                        <span class="type">Function</span>
                    

                    

                    <div class="param-description">
                        <p>The constructor of the class to add</p>

                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    

    
</div>

                
                    <div id="method_addClient" class="method item">
    <h3 class="name"><code>addClient</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>client</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code>scopeCallback</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    
        <span class="returns-inline">
            <span class="type"><a href="../classes/Connection.html" class="crosslink">Connection</a></span>
        </span>
    

    

    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/src_wasabi.js.html#l132"><code>src&#x2F;wasabi.js:132</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Attach a client connected through the given socket object. Currently
this must be a WebSocket or socket.io socket, or something that is
API compatible (i.e. has an <code>onmessage</code> callback and a <code>send</code>
method).</p>

    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">client</code>
                        <span class="type">Socket</span>
                    

                    

                    <div class="param-description">
                        <p>The socket object used to communicate with the
    new client</p>

                    </div>

                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name">scopeCallback</code>
                        <span class="type">Function</span>
                    

                    

                    <div class="param-description">
                        <p>See <a href="../classes/Connection.html" class="crosslink">Connection</a></p>

                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    
        <div class="returns">
            <h4>Returns:</h4>

            <div class="returns-description">
                
                    
                        <span class="type"><a href="../classes/Connection.html" class="crosslink">Connection</a></span>:
                    
                    <p>The newly created Connection object</p>

                
            </div>
        </div>
    

    
</div>

                
                    <div id="method_addObject" class="method item">
    <h3 class="name"><code>addObject</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>obj</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code>serial</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    

    

    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/src_wasabi.js.html#l60"><code>src&#x2F;wasabi.js:60</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Register an instance of a klass, which can then be sent to
connected clients as needed (based on the results of their
<code>scopeCallback</code>s).</p>
<p><em>Note: This method should only be called manually on
authoritative peers (i.e. server-side).</em> Wasabi clients will
automatically add instances to the Registry when their ghosts
are unpacked</p>

    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">obj</code>
                        <span class="type">NetObject</span>
                    

                    

                    <div class="param-description">
                        <p>The object to add to the registry</p>

                    </div>

                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name">serial</code>
                        <span class="type">Number</span>
                    

                    

                    <div class="param-description">
                        <p>The serial number to assign to this object. If
falsy, the nextSerialNumber will be used</p>

                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    

    
</div>

                
                    <div id="method_addServer" class="method item">
    <h3 class="name"><code>addServer</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>sock</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    
        <span class="returns-inline">
            <span class="type"><a href="../classes/Connection.html" class="crosslink">Connection</a></span>
        </span>
    

    

    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/src_wasabi.js.html#l103"><code>src&#x2F;wasabi.js:103</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Attach to a server connected through the socket object</p>

    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">sock</code>
                        <span class="type">Socket</span>
                    

                    

                    <div class="param-description">
                        <p>The socket object used to communicate with the
    new server</p>

                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    
        <div class="returns">
            <h4>Returns:</h4>

            <div class="returns-description">
                
                    
                        <span class="type"><a href="../classes/Connection.html" class="crosslink">Connection</a></span>:
                    
                    <p>The newly created Connection object</p>

                
            </div>
        </div>
    

    
</div>

                
                    <div id="method_makeWasabi" class="method item">
    <h3 class="name"><code>makeWasabi</code></h3>

    
        <span class="paren">()</span>
    

    

    

    

    

    
        <span class="flag static">static</span>
    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/src_wasabi.js.html#l8"><code>src&#x2F;wasabi.js:8</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Named and exported function that would otherwise be an IIFE. Used to
instantiate a second Wasabi module for use in tests (to simulate a remote
client)</p>

    </div>

    

    

    
</div>

                
                    <div id="method_mkRpc" class="method item">
    <h3 class="name"><code>mkRpc</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>fn</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code>opt_serialize</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    
        <span class="returns-inline">
            <span class="type">Function</span>
        </span>
    

    

    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/src_wasabi.js.html#l89"><code>src&#x2F;wasabi.js:89</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Create an RPC from the supplied procedure and serialize functions.</p>

    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">fn</code>
                        <span class="type">Function</span>
                    

                    

                    <div class="param-description">
                        <p>The local function to call when the RPC is
    invoked on a remote host</p>

                    </div>

                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name">opt_serialize</code>
                        <span class="type">Function</span>
                    

                    

                    <div class="param-description">
                        <p>An optional serialize function
    describing the arguments used by this RPC</p>

                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    
        <div class="returns">
            <h4>Returns:</h4>

            <div class="returns-description">
                
                    
                        <span class="type">Function</span>:
                    
                    <p>The function you should call remotely to invoke
    the RPC on a connection</p>

                
            </div>
        </div>
    

    
</div>

                
                    <div id="method_processConnections" class="method item">
    <h3 class="name"><code>processConnections</code></h3>

    
        <span class="paren">()</span>
    

    

    

    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/src_wasabi.js.html#l166"><code>src&#x2F;wasabi.js:166</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Process the incoming and outgoing data for all connected clients and
servers. This is typically called in your game&#39;s update loop</p>

    </div>

    

    

    
</div>

                
                    <div id="method_removeClient" class="method item">
    <h3 class="name"><code>removeClient</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>sock</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    

    

    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/src_wasabi.js.html#l150"><code>src&#x2F;wasabi.js:150</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Remove a client by its socket object. <code>sock</code> must be strictly equal
(<code>===</code>) to the original socket.</p>

    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">sock</code>
                        <span class="type">Socket</span>
                    

                    

                    <div class="param-description">
                        <p>The socket object originally passed to addClient</p>

                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    

    
</div>

                
                    <div id="method_removeObject" class="method item">
    <h3 class="name"><code>removeObject</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>arg</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    

    

    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/src_wasabi.js.html#l79"><code>src&#x2F;wasabi.js:79</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Unregister an instance of a klass</p>

    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">arg</code>
                        <span class="type">Mixed</span>
                    

                    

                    <div class="param-description">
                        <p>Either a NetObject or a serial number to be
removed from the registry</p>

                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    

    
</div>

                
                    <div id="method_removeServer" class="method item">
    <h3 class="name"><code>removeServer</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>sock</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    

    

    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/src_wasabi.js.html#l116"><code>src&#x2F;wasabi.js:116</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>Remove a server by its socket object. <code>sock</code> must be strictly equal
(<code>===</code>) to the original socket.</p>

    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">sock</code>
                        <span class="type">Socket</span>
                    

                    

                    <div class="param-description">
                        <p>The socket object originally passed to addServer</p>

                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    

    
</div>

                
            </div>
        

        

        

        
            <div id="events" class="api-class-tabpanel">
                <h2 class="off-left">Events</h2>

                
                    <div id="event_clientGhostCreate" class="events item">
    <h3 class="name"><code>clientGhostCreate</code></h3>
    <span class="type"></span>

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/src_wasabi.js.html#l249"><code>src&#x2F;wasabi.js:249</code></a>
        
        </p>

        

        
    </div>

    <div class="description">
        <p>Fired client-side when a ghost (the remote counterpart) of an
object is created. This occurs when the scope callback for this
client (on the server) returns an object when it did not
previously.</p>
<p>The <code>obj</code> will be a newly created instance of the class every
time this event is emitted, even when subsequent emissions refer
to the same server-side instance. That is, Wasabi created a brand
new object every time it creates a ghost.</p>
<p>Note that this event can be emitted multiple times per object, if
object comes in and out of scope.</p>

    </div>

    
        <div class="params">
            <h4>Event Payload:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">obj</code>
                        <span class="type">Object</span>
                    

                    

                    <div class="param-description">
                        <p>The newly created ghost</p>

                    </div>

                    
                </li>
            
            </ul>
        </div>
    


    
</div>

                
                    <div id="event_clientGhostDestroy" class="events item">
    <h3 class="name"><code>clientGhostDestroy</code></h3>
    <span class="type"></span>

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/src_wasabi.js.html#l338"><code>src&#x2F;wasabi.js:338</code></a>
        
        </p>

        

        
    </div>

    <div class="description">
        <p>Fired client-side when a ghost (the remote counterpart) of an
object is about to be destroyed. This occurs when the scope
callback for this client (on the server) does not return the
object after it did previously.</p>
<p>Although Wasabi can not acutally &quot;destroy&quot; the object (since
JavaScript has no destructors), the particular instance will
never be referred to be Wasabi again.</p>
<p>Note that this event can be emitted multiple times per
object, if object comes in and out of scope.</p>

    </div>

    
        <div class="params">
            <h4>Event Payload:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">obj</code>
                        <span class="type">Object</span>
                    

                    

                    <div class="param-description">
                        <p>The ghost which is about to be destroyed</p>

                    </div>

                    
                </li>
            
            </ul>
        </div>
    


    
</div>

                
                    <div id="event_sendError" class="events item">
    <h3 class="name"><code>sendError</code></h3>
    <span class="type"></span>

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/src_wasabi.js.html#l645"><code>src&#x2F;wasabi.js:645</code></a>
        
        </p>

        

        
    </div>

    <div class="description">
        <p>Fired when Wasabi receives an error while sending data over a
connection. Note that Wasabi will remove the connection from
its list of clients and servers immediately after emitting
this event.</p>
<p>An event is used in order to give user code a chance to react
to the error without interupting the processing of other
connections within the same <code>processConnections</code> call.</p>

    </div>

    
        <div class="params">
            <h4>Event Payload:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">conn</code>
                        <span class="type"><a href="../classes/Connection.html" class="crosslink">Connection</a></span>
                    

                    

                    <div class="param-description">
                        <p>The connection which generated the
    error.</p>

                    </div>

                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name">e</code>
                        <span class="type">Error</span>
                    

                    

                    <div class="param-description">
                        <p>The original error</p>

                    </div>

                    
                </li>
            
            </ul>
        </div>
    


    
</div>

                
            </div>
        
    </div>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>
